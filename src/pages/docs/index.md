<script setup lang="ts">
useHead({
  title: 'FAS - Docs',
})
</script>

# File Allocation Simulator (FAS)
#### Implemented File System
  - <router-link class="hover:text-blue-500 !text-blue-6" to="/docs/fat">FAT</router-link>
  - <router-link class="hover:text-blue-500 !text-blue-6" to="/docs/ext4">ext4</router-link>

<hr>
Table of content

  [[toc]]

## Introduction

FAS is a learning tool to learn file systems through the simulation of file operations (create, delete, read, write, append) on a file system and the visualization of how the data is stored on the disk. A file is a named collection of related data defined by its creator and it is stored in the secondary storage as a sequence of bits. By allowing data to be readily stored, located, and retrieved, file systems give efficient and simple access to secondary storage. Each file system defines its own data structures and algorithms which determine how the logical file is stored physically in the secondary storage. Each file system aims to achieve better performance by making sure each file is stored contiguously on the disk.

FAS focuses on the allocation of files, the data structure and how files are read and written in different file systems. The free block searching algorithm is implemented using the first fit algorithm. File sizes are based on disk block.

FAS simplifies the concept of a file system and does not represent the real implementation. FAS provides a general idea for understanding how a file system works.

FAS does not support the creation of directories. All files created are considered regular files, and all files are stored in the root directory.

## Quick Start

To get started, 
1. Select any file system and enter a disk size then click the "Format" button.
2. Then, perform any action (create, delete, write, append and read) by specify a file name, size and select an action.
3. Detailed steps and animation will be shown.
4. Animation could be paused, continued or disabled.
  
For new users / beginners it is recommended to set animation to manual mode and observe each step. The recommended disk size is between 100 to 150. The maximum size allowed size is 500.

For more information on each function of the app refer to the documentation below. An app tour is provided by pressing the "Guide" button.

## File action
### Create: create a new file
- demonstrate how the file is created in the file system
- show that how a file is stored into disk blocks
  
### Delete: delete existing file
- demonstrate how existing file is located and deleted from the file system
  
### Read: read existing file
- demonstrate how a file is located by providing file name
- shows that how a file is read from disk blocks

### Append: append size to existing file
- increase file size by the size of append.
- Example: For action of appending 20 size to a file of 10 size, the file will become 30 size.
  
### Write: write size to existing file
- overwrite the file with the size of write.
- Example: For action of writing 20 size to a file of 10 size, the file will become 20 size.

## Functions

### Input
Simulation is performed by selecting a file action and entering a file name and file size. For operations of reading and deleting, the file size is not required. 

- #### Input Generation
Input can be generated by clicking on the <span class="i-mdi:cogs icon-btn inline-block align-sub"></span> button. If no files are created, the file action generated will always be create. 

Generation of input can be locked by opening the generation preference settings <span class="i-fluent:caret-down-24-filled icon-btn inline-block align-sub"></span> (beside the generation icon). For example, if file action are locked, file action remains the same each time input was generated.

### Disk Blocks
The disk block section shows the status of each disk block. The status of disk blocks can be identified by color. White color means it is free, or else it is used or reserved.

### Animation / Actions
To pause the animation, the user could click the Pause button (<span class="i-ic:round-pause-circle inline-block align-sub" />) or press "**P**" key on keyboard. 

When animation is paused, the user would need to go to the next step manually by clicking the forward button (<span class="i-fluent:fast-forward-16-filled inline-block align-sub"/>) or pressing the "**N**" key on keyboard. To continue the animation, the user could click the Play button (<span class="i-ic:round-play-circle inline-block align-sub" />) or pressing "**P**" key on keyboard. 

While an animation is not completed, all other actions such as formatting disk or creating file is disabled. The user could choose to instantly complete the current action by clicking on the "Skip" button. The user could also choose to cancel the current action and revert to the previous state by clicking on the "Cancel" button.

### Import / Export

The application state can be exported to a file or copied to the clipboard by clicking the export button (<span class="i-carbon:export icon-btn"></span>) to open the export interface. All file actions are recorded  automatically once the disk is formatted. When the disk is formatted, previously recorded action will be cleared.

To import application state, the user can click on the import button (<span class="i-mdi:database-import icon-btn"></span>) to open the import interface and select to import by paste from clipboard or uploading a JSON file.

### Disk Info

The disk info section shows the details of the disk such as used disk blocks and free disk blocks. The fragmentation percentage in FAS is calculated based on the following formula: 
  
  (number of free disk blocks - largest contiguous free blocks) /  total free blocks x 100


- #### Defragmentation

Clicking on the "Perform Defragmentation" button will perform defragmentation which reallocates each file to sit contiguously and eliminates any discontiguous free blocks.



<br>
<br>
<hr>
<route lang="yaml">
meta:
  layout: docs
</route>
